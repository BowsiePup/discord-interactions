<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Interactions.ts</title><meta name="description" content="Documentation for Interactions.ts"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">Interactions.ts</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>Interactions.ts</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#discord-interactionsts" id="discord-interactionsts" style="color: inherit; text-decoration: none;">
  <h1>Discord Interactions.TS</h1>
</a>
<p>A simple command framework for Discord&#39;s HTTP interactions. </p>
<p>Easily create and manage your application&#39;s commands with helpers based on <a href="https://github.com/discordjs/discord.js/tree/main/packages/builders/">@discord.js/builders</a>, then just pass along incoming requests from your webserver of choice to start responding to them.</p>
<div align="center">
  <br />
  <p>
    <a href="https://discord.gg/BTXJmW4Bh7"><img src="https://img.shields.io/discord/395423304112013334?logo=discord&logoColor=white" alt="Discord server" /></a>
    <a href="https://www.npmjs.com/package/interactions.ts"><img src="https://img.shields.io/npm/v/interactions.ts.svg?maxAge=3600" alt="npm version" /></a>
    <a href="https://www.npmjs.com/package/interactions.ts"><img src="https://img.shields.io/npm/dt/interactions.ts.svg?maxAge=3600" alt="npm downloads" /></a>
    <a href="https://github.com/ssMMiles/interactions.ts/actions"><img src="https://github.com/ssMMiles/interactions.ts/actions/workflows/tests.yml/badge.svg" alt="Tests status" /></a>
  </p>
</div>


<a href="#install" id="install" style="color: inherit; text-decoration: none;">
  <h3>Install</h3>
</a>
<p><code>npm install interactions.ts</code></p>

<a href="#links" id="links" style="color: inherit; text-decoration: none;">
  <h3>Links</h3>
</a>
<ul>
<li>
<a href="#example-bot" id="example-bot" style="color: inherit; text-decoration: none;">
  <h4><a href="https://github.com/ssMMiles/bot-template">Example Bot</a></h4>
</a>
</li>
<li>
<a href="#documentation" id="documentation" style="color: inherit; text-decoration: none;">
  <h4><a href="https://interactions-ts.pages.dev/">Documentation</a></h4>
</a>
</li>
<li>
<a href="#github" id="github" style="color: inherit; text-decoration: none;">
  <h4><a href="https://github.com/ssMMiles/interactions.ts">Github</a></h4>
</a>
</li>
<li>
<a href="#npm" id="npm" style="color: inherit; text-decoration: none;">
  <h4><a href="https://www.npmjs.com/package/interactions.ts">NPM</a></h4>
</a>
</li>
</ul>

<a href="#example-usage" id="example-usage" style="color: inherit; text-decoration: none;">
  <h1>Example Usage</h1>
</a>

<a href="#registering-a-basic-slash-command" id="registering-a-basic-slash-command" style="color: inherit; text-decoration: none;">
  <h2>Registering a basic Slash Command</h2>
</a>
<pre><code class="language-typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">app</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">DiscordApplication</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">clientId:</span><span class="hl-1"> </span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">env</span><span class="hl-1">.</span><span class="hl-2">CLIENT_ID</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-6">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">token:</span><span class="hl-1"> </span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">env</span><span class="hl-1">.</span><span class="hl-2">TOKEN</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-6">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">publicKey:</span><span class="hl-1"> </span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">env</span><span class="hl-1">.</span><span class="hl-2">PUBLIC_KEY</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-6">string</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">commands</span><span class="hl-1"> = [</span><br/><span class="hl-1">  </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">SlashCommand</span><span class="hl-1">(</span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">SlashCommandBuilder</span><span class="hl-1">(</span><span class="hl-7">&quot;test&quot;</span><span class="hl-1">, </span><span class="hl-7">&quot;A simple testing command!&quot;</span><span class="hl-1">), </span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-4">context</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">context</span><span class="hl-1">.</span><span class="hl-3">reply</span><span class="hl-1">(</span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">MessageBuilder</span><span class="hl-1">().</span><span class="hl-3">setContent</span><span class="hl-1">(</span><span class="hl-7">&quot;Test command executed!&quot;</span><span class="hl-1">));</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">]</span><br/><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">app</span><span class="hl-1">.</span><span class="hl-4">commands</span><span class="hl-1">.</span><span class="hl-3">register</span><span class="hl-1">(</span><span class="hl-4">commands</span><span class="hl-1">);</span>
</code></pre>
<p>This will create a global <code>/ping</code> command on your application. If one is already registered, it will be overwritten.</p>
<hr>

<a href="#command-groups" id="command-groups" style="color: inherit; text-decoration: none;">
  <h2>Command Groups</h2>
</a>
<p>Command groups, subcommand groups and subcommands can all easily be defined as well:</p>
<pre><code class="language-typescript"><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">app</span><span class="hl-1">.</span><span class="hl-3">register</span><span class="hl-1">([</span><br/><span class="hl-1">  </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CommandGroup</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CommandGroupBuilder</span><span class="hl-1">(</span><span class="hl-7">&quot;config&quot;</span><span class="hl-1">, </span><span class="hl-7">&quot;A simple config command.&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">      .</span><span class="hl-3">addSubcommand</span><span class="hl-1">(</span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">SubcommandOption</span><span class="hl-1">(</span><span class="hl-7">&quot;get&quot;</span><span class="hl-1">, </span><span class="hl-7">&quot;Get a config value.&quot;</span><span class="hl-1">))</span><br/><span class="hl-1">      .</span><span class="hl-3">addSubcommand</span><span class="hl-1">(</span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">SubcommandOption</span><span class="hl-1">(</span><span class="hl-7">&quot;set&quot;</span><span class="hl-1">, </span><span class="hl-7">&quot;Set a config value.&quot;</span><span class="hl-1">)),</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-4">get:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-3">handler</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-4">context</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">value</span><span class="hl-1"> = </span><span class="hl-7">&quot;x&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">          </span><span class="hl-4">context</span><span class="hl-1">.</span><span class="hl-3">reply</span><span class="hl-1">(</span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">MessageBuilder</span><span class="hl-1">().</span><span class="hl-3">setContent</span><span class="hl-1">(</span><span class="hl-7">`Config value: </span><span class="hl-0">${</span><span class="hl-4">value</span><span class="hl-0">}</span><span class="hl-7">!`</span><span class="hl-1">));</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-4">set:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-3">handler</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-4">context</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">          </span><span class="hl-4">context</span><span class="hl-1">.</span><span class="hl-3">reply</span><span class="hl-1">(</span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">MessageBuilder</span><span class="hl-1">().</span><span class="hl-3">setContent</span><span class="hl-1">(</span><span class="hl-7">&quot;Config value set!&quot;</span><span class="hl-1">));</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  )</span><br/><span class="hl-1">]);</span>
</code></pre>
<hr>

<a href="#registering-a-guild-specific-command" id="registering-a-guild-specific-command" style="color: inherit; text-decoration: none;">
  <h2>Registering a guild-specific command</h2>
</a>
<pre><code class="language-typescript"><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">guild</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">CommandManager</span><span class="hl-1">(</span><span class="hl-4">app</span><span class="hl-1">, </span><span class="hl-4">guildId</span><span class="hl-1">);</span><br/><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">guild</span><span class="hl-1">.</span><span class="hl-3">register</span><span class="hl-1">(</span><span class="hl-4">commands</span><span class="hl-1">);</span>
</code></pre>
<hr>

<a href="#command-using-components" id="command-using-components" style="color: inherit; text-decoration: none;">
  <h2>Command using Components</h2>
</a>
<p>Components must be registered similarly before they can be used. You can then create instances of your components and use them in your commands with an arbitrary state object to be passed through. </p>
<p>This state is stored in the <code>custom_id</code> property by default, which will constrain the size of your data. To avoid this, an external cache can be configured.</p>
<pre><code class="language-typescript"><span class="hl-0">type</span><span class="hl-1"> </span><span class="hl-6">TestButtonState</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-4">word</span><span class="hl-1">: </span><span class="hl-6">string</span><span class="hl-1">;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">components</span><span class="hl-1"> = [</span><br/><span class="hl-1">  </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">Button</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-7">&quot;testButton&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">ButtonBuilder</span><span class="hl-1">().</span><span class="hl-3">setLabel</span><span class="hl-1">(</span><span class="hl-7">&quot;Test Button&quot;</span><span class="hl-1">).</span><span class="hl-3">setStyle</span><span class="hl-1">(</span><span class="hl-4">ButtonStyle</span><span class="hl-1">.</span><span class="hl-4">Primary</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-4">ctx</span><span class="hl-1">: </span><span class="hl-6">ButtonContext</span><span class="hl-1">&lt;</span><span class="hl-6">TestButtonState</span><span class="hl-1">&gt;): </span><span class="hl-6">Promise</span><span class="hl-1">&lt;</span><span class="hl-6">void</span><span class="hl-1">&gt; </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">word</span><span class="hl-1"> = </span><span class="hl-4">ctx</span><span class="hl-1">.</span><span class="hl-4">state</span><span class="hl-1"> ? </span><span class="hl-4">ctx</span><span class="hl-1">.</span><span class="hl-4">state</span><span class="hl-1">.</span><span class="hl-4">word</span><span class="hl-1"> : </span><span class="hl-7">&quot;Component State expired&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">      </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-4">ctx</span><span class="hl-1">.</span><span class="hl-3">reply</span><span class="hl-1">(</span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">MessageBuilder</span><span class="hl-1">().</span><span class="hl-3">addEmbed</span><span class="hl-1">(</span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">UnsafeEmbedBuilder</span><span class="hl-1">().</span><span class="hl-3">setTitle</span><span class="hl-1">(</span><span class="hl-4">word</span><span class="hl-1">)));</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  ).</span><span class="hl-3">setAllowExpired</span><span class="hl-1">(</span><span class="hl-0">true</span><span class="hl-1">)</span><br/><span class="hl-1">]</span><br/><br/><span class="hl-4">app</span><span class="hl-1">.</span><span class="hl-4">components</span><span class="hl-1">.</span><span class="hl-3">register</span><span class="hl-1">(</span><span class="hl-4">components</span><span class="hl-1">);</span><br/><br/><span class="hl-4">app</span><span class="hl-1">.</span><span class="hl-4">commands</span><span class="hl-1">.</span><span class="hl-3">register</span><span class="hl-1">([</span><br/><span class="hl-1">  </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">SlashCommand</span><span class="hl-1">(</span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">SlashCommandBuilder</span><span class="hl-1">(</span><span class="hl-7">&quot;test&quot;</span><span class="hl-1">, </span><span class="hl-7">&quot;A simple testing command!&quot;</span><span class="hl-1">), </span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-4">context</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">context</span><span class="hl-1">.</span><span class="hl-3">reply</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">MessageBuilder</span><span class="hl-1">()</span><br/><span class="hl-1">        .</span><span class="hl-3">addEmbed</span><span class="hl-1">(</span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">UnsafeEmbedBuilder</span><span class="hl-1">().</span><span class="hl-3">setTitle</span><span class="hl-1">(</span><span class="hl-7">&quot;Press the button to update the message!&quot;</span><span class="hl-1">))</span><br/><span class="hl-1">        .</span><span class="hl-3">addComponents</span><span class="hl-1">(</span><br/><span class="hl-1">          </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">ActionRowBuilder</span><span class="hl-1">().</span><span class="hl-3">addComponents</span><span class="hl-1">(</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">context</span><span class="hl-1">.</span><span class="hl-4">manager</span><span class="hl-1">.</span><span class="hl-4">components</span><span class="hl-1">.</span><span class="hl-3">createInstance</span><span class="hl-1">(</span><span class="hl-7">&quot;testButton&quot;</span><span class="hl-1">, { </span><span class="hl-4">word:</span><span class="hl-1"> </span><span class="hl-7">&quot;Surprise!&quot;</span><span class="hl-1"> }))</span><br/><span class="hl-1">        )</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">]);</span><br/>
</code></pre>
<hr>

<a href="#using-redis-for-caching" id="using-redis-for-caching" style="color: inherit; text-decoration: none;">
  <h2>Using Redis for caching</h2>
</a>
<pre><code class="language-typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">redisClient</span><span class="hl-1"> = </span><span class="hl-3">createClient</span><span class="hl-1">();</span><br/><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">redisClient</span><span class="hl-1">.</span><span class="hl-3">connect</span><span class="hl-1">();</span><br/><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">app</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">DiscordApplication</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">clientId:</span><span class="hl-1"> </span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">env</span><span class="hl-1">.</span><span class="hl-2">CLIENT_ID</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-6">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">token:</span><span class="hl-1"> </span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">env</span><span class="hl-1">.</span><span class="hl-2">TOKEN</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-6">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">publicKey:</span><span class="hl-1"> </span><span class="hl-4">process</span><span class="hl-1">.</span><span class="hl-4">env</span><span class="hl-1">.</span><span class="hl-2">PUBLIC_KEY</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-6">string</span><span class="hl-1">,</span><br/><br/><span class="hl-1">  </span><span class="hl-4">cache:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">get</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">key</span><span class="hl-1">: </span><span class="hl-6">string</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-4">redisClient</span><span class="hl-1">.</span><span class="hl-3">get</span><span class="hl-1">(</span><span class="hl-4">key</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-3">set</span><span class="hl-4">:</span><span class="hl-1"> (</span><span class="hl-4">key</span><span class="hl-1">: </span><span class="hl-6">string</span><span class="hl-1">, </span><span class="hl-4">ttl</span><span class="hl-1">: </span><span class="hl-6">number</span><span class="hl-1">, </span><span class="hl-4">value</span><span class="hl-1">: </span><span class="hl-6">string</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-4">redisClient</span><span class="hl-1">.</span><span class="hl-3">setEx</span><span class="hl-1">(</span><span class="hl-4">key</span><span class="hl-1">, </span><span class="hl-4">ttl</span><span class="hl-1">, </span><span class="hl-4">value</span><span class="hl-1">)</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code></pre>
<hr>

<a href="#receiving--handling-interactions-with-fastify" id="receiving--handling-interactions-with-fastify" style="color: inherit; text-decoration: none;">
  <h2>Receiving + Handling interactions with Fastify</h2>
</a>
<pre><code class="language-typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">server</span><span class="hl-1"> = </span><span class="hl-3">fastify</span><span class="hl-1">();</span><br/><span class="hl-4">server</span><span class="hl-1">.</span><span class="hl-3">register</span><span class="hl-1">(</span><span class="hl-4">rawBody</span><span class="hl-1">);</span><br/><br/><span class="hl-4">server</span><span class="hl-1">.</span><span class="hl-3">post</span><span class="hl-1">(</span><span class="hl-7">&quot;/&quot;</span><span class="hl-1">, </span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-4">request</span><span class="hl-1">, </span><span class="hl-4">reply</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">signature</span><span class="hl-1"> = </span><span class="hl-4">request</span><span class="hl-1">.</span><span class="hl-4">headers</span><span class="hl-1">[</span><span class="hl-7">&quot;x-signature-ed25519&quot;</span><span class="hl-1">];</span><br/><span class="hl-1">  </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">timestamp</span><span class="hl-1"> = </span><span class="hl-4">request</span><span class="hl-1">.</span><span class="hl-4">headers</span><span class="hl-1">[</span><span class="hl-7">&quot;x-signature-timestamp&quot;</span><span class="hl-1">];</span><br/><br/><span class="hl-1">  </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-0">typeof</span><span class="hl-1"> </span><span class="hl-4">request</span><span class="hl-1">.</span><span class="hl-4">rawBody</span><span class="hl-1"> !== </span><span class="hl-7">&quot;string&quot;</span><span class="hl-1"> || </span><span class="hl-0">typeof</span><span class="hl-1"> </span><span class="hl-4">signature</span><span class="hl-1"> !== </span><span class="hl-7">&quot;string&quot;</span><span class="hl-1"> || </span><span class="hl-0">typeof</span><span class="hl-1"> </span><span class="hl-4">timestamp</span><span class="hl-1"> !== </span><span class="hl-7">&quot;string&quot;</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-4">reply</span><span class="hl-1">.</span><span class="hl-3">code</span><span class="hl-1">(</span><span class="hl-8">400</span><span class="hl-1">).</span><span class="hl-3">send</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-4">error:</span><span class="hl-1"> </span><span class="hl-7">&quot;Invalid request&quot;</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-5">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">app</span><span class="hl-1">.</span><span class="hl-3">handleInteraction</span><span class="hl-1">(</span><br/><span class="hl-1">      </span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-4">response</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">reply</span><span class="hl-1">.</span><span class="hl-3">code</span><span class="hl-1">(</span><span class="hl-8">200</span><span class="hl-1">).</span><span class="hl-3">send</span><span class="hl-1">(</span><span class="hl-4">response</span><span class="hl-1">);</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-4">request</span><span class="hl-1">.</span><span class="hl-4">rawBody</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">timestamp</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">signature</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  } </span><span class="hl-5">catch</span><span class="hl-1"> (</span><span class="hl-4">err</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-3">error</span><span class="hl-1">(</span><span class="hl-4">err</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code></pre>
<p>Once incoming interaction requests start being passed to <code>app.handleInteraction()</code>, your application should appear online and be ready to respond to any commands you have configured.</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-enum"><a href="enums/ButtonStyle.html" class="tsd-kind-icon">Button<wbr/>Style</a></li><li class="tsd-kind-enum"><a href="enums/TextInputStyle.html" class="tsd-kind-icon">Text<wbr/>Input<wbr/>Style</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/ActionRowBuilder.html" class="tsd-kind-icon">Action<wbr/>Row<wbr/>Builder</a></li><li class="tsd-kind-class"><a href="classes/AutocompleteContext.html" class="tsd-kind-icon">Autocomplete<wbr/>Context</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/BaseInteractionContext.html" class="tsd-kind-icon">Base<wbr/>Interaction<wbr/>Context</a></li><li class="tsd-kind-class"><a href="classes/Bitfield.html" class="tsd-kind-icon">Bitfield</a></li><li class="tsd-kind-class"><a href="classes/Button.html" class="tsd-kind-icon">Button</a></li><li class="tsd-kind-class"><a href="classes/ButtonBuilder.html" class="tsd-kind-icon">Button<wbr/>Builder</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/ButtonContext.html" class="tsd-kind-icon">Button<wbr/>Context</a></li><li class="tsd-kind-class"><a href="classes/CommandGroup.html" class="tsd-kind-icon">Command<wbr/>Group</a></li><li class="tsd-kind-class"><a href="classes/CommandGroupBuilder.html" class="tsd-kind-icon">Command<wbr/>Group<wbr/>Builder</a></li><li class="tsd-kind-class"><a href="classes/CommandManager.html" class="tsd-kind-icon">Command<wbr/>Manager</a></li><li class="tsd-kind-class"><a href="classes/ComponentManager.html" class="tsd-kind-icon">Component<wbr/>Manager</a></li><li class="tsd-kind-class"><a href="classes/DiscordApplication.html" class="tsd-kind-icon">Discord<wbr/>Application</a></li><li class="tsd-kind-class"><a href="classes/EmbedBuilder.html" class="tsd-kind-icon">Embed<wbr/>Builder</a></li><li class="tsd-kind-class"><a href="classes/InteractionError.html" class="tsd-kind-icon">Interaction<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/InteractionHandlerTimedOut.html" class="tsd-kind-icon">Interaction<wbr/>Handler<wbr/>Timed<wbr/>Out</a></li><li class="tsd-kind-class"><a href="classes/InteractionResponseAlreadySent.html" class="tsd-kind-icon">Interaction<wbr/>Response<wbr/>Already<wbr/>Sent</a></li><li class="tsd-kind-class"><a href="classes/InteractionTokenExpired.html" class="tsd-kind-icon">Interaction<wbr/>Token<wbr/>Expired</a></li><li class="tsd-kind-class"><a href="classes/InteractionWebhook.html" class="tsd-kind-icon">Interaction<wbr/>Webhook</a></li><li class="tsd-kind-class"><a href="classes/LinkButtonBuilder.html" class="tsd-kind-icon">Link<wbr/>Button<wbr/>Builder</a></li><li class="tsd-kind-class"><a href="classes/MessageBuilder.html" class="tsd-kind-icon">Message<wbr/>Builder</a></li><li class="tsd-kind-class"><a href="classes/MessageCommand.html" class="tsd-kind-icon">Message<wbr/>Command</a></li><li class="tsd-kind-class"><a href="classes/MessageCommandBuilder.html" class="tsd-kind-icon">Message<wbr/>Command<wbr/>Builder</a></li><li class="tsd-kind-class"><a href="classes/MessageCommandContext.html" class="tsd-kind-icon">Message<wbr/>Command<wbr/>Context</a></li><li class="tsd-kind-class"><a href="classes/Modal.html" class="tsd-kind-icon">Modal</a></li><li class="tsd-kind-class"><a href="classes/ModalBuilder.html" class="tsd-kind-icon">Modal<wbr/>Builder</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/ModalSubmitContext.html" class="tsd-kind-icon">Modal<wbr/>Submit<wbr/>Context</a></li><li class="tsd-kind-class"><a href="classes/PingContext.html" class="tsd-kind-icon">Ping<wbr/>Context</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/RegisteredCommandBase.html" class="tsd-kind-icon">Registered<wbr/>Command<wbr/>Base</a></li><li class="tsd-kind-class"><a href="classes/RegisteredCommandGroup.html" class="tsd-kind-icon">Registered<wbr/>Command<wbr/>Group</a></li><li class="tsd-kind-class"><a href="classes/RegisteredMessageCommand.html" class="tsd-kind-icon">Registered<wbr/>Message<wbr/>Command</a></li><li class="tsd-kind-class"><a href="classes/RegisteredSlashCommand.html" class="tsd-kind-icon">Registered<wbr/>Slash<wbr/>Command</a></li><li class="tsd-kind-class"><a href="classes/RegisteredUserCommand.html" class="tsd-kind-icon">Registered<wbr/>User<wbr/>Command</a></li><li class="tsd-kind-class"><a href="classes/SelectMenu.html" class="tsd-kind-icon">Select<wbr/>Menu</a></li><li class="tsd-kind-class"><a href="classes/SelectMenuBuilder.html" class="tsd-kind-icon">Select<wbr/>Menu<wbr/>Builder</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/SelectMenuContext.html" class="tsd-kind-icon">Select<wbr/>Menu<wbr/>Context</a></li><li class="tsd-kind-class"><a href="classes/SelectMenuOptionBuilder.html" class="tsd-kind-icon">Select<wbr/>Menu<wbr/>Option<wbr/>Builder</a></li><li class="tsd-kind-class"><a href="classes/SlashCommand.html" class="tsd-kind-icon">Slash<wbr/>Command</a></li><li class="tsd-kind-class"><a href="classes/SlashCommandAttachmentOption.html" class="tsd-kind-icon">Slash<wbr/>Command<wbr/>Attachment<wbr/>Option</a></li><li class="tsd-kind-class"><a href="classes/SlashCommandBooleanOption.html" class="tsd-kind-icon">Slash<wbr/>Command<wbr/>Boolean<wbr/>Option</a></li><li class="tsd-kind-class"><a href="classes/SlashCommandBuilder.html" class="tsd-kind-icon">Slash<wbr/>Command<wbr/>Builder</a></li><li class="tsd-kind-class"><a href="classes/SlashCommandChannelOption.html" class="tsd-kind-icon">Slash<wbr/>Command<wbr/>Channel<wbr/>Option</a></li><li class="tsd-kind-class"><a href="classes/SlashCommandContext.html" class="tsd-kind-icon">Slash<wbr/>Command<wbr/>Context</a></li><li class="tsd-kind-class"><a href="classes/SlashCommandIntegerOption.html" class="tsd-kind-icon">Slash<wbr/>Command<wbr/>Integer<wbr/>Option</a></li><li class="tsd-kind-class"><a href="classes/SlashCommandMentionableOption.html" class="tsd-kind-icon">Slash<wbr/>Command<wbr/>Mentionable<wbr/>Option</a></li><li class="tsd-kind-class"><a href="classes/SlashCommandNumberOption.html" class="tsd-kind-icon">Slash<wbr/>Command<wbr/>Number<wbr/>Option</a></li><li class="tsd-kind-class"><a href="classes/SlashCommandRoleOption.html" class="tsd-kind-icon">Slash<wbr/>Command<wbr/>Role<wbr/>Option</a></li><li class="tsd-kind-class"><a href="classes/SlashCommandStringOption.html" class="tsd-kind-icon">Slash<wbr/>Command<wbr/>String<wbr/>Option</a></li><li class="tsd-kind-class"><a href="classes/SlashCommandUserOption.html" class="tsd-kind-icon">Slash<wbr/>Command<wbr/>User<wbr/>Option</a></li><li class="tsd-kind-class"><a href="classes/SubcommandGroupOption.html" class="tsd-kind-icon">Subcommand<wbr/>Group<wbr/>Option</a></li><li class="tsd-kind-class"><a href="classes/SubcommandOption.html" class="tsd-kind-icon">Subcommand<wbr/>Option</a></li><li class="tsd-kind-class"><a href="classes/TextInputBuilder.html" class="tsd-kind-icon">Text<wbr/>Input<wbr/>Builder</a></li><li class="tsd-kind-class"><a href="classes/UnauthorizedInteraction.html" class="tsd-kind-icon">Unauthorized<wbr/>Interaction</a></li><li class="tsd-kind-class"><a href="classes/UnknownApplicationCommandType.html" class="tsd-kind-icon">Unknown<wbr/>Application<wbr/>Command<wbr/>Type</a></li><li class="tsd-kind-class"><a href="classes/UnknownComponentType.html" class="tsd-kind-icon">Unknown<wbr/>Component<wbr/>Type</a></li><li class="tsd-kind-class"><a href="classes/UnknownInteractionType.html" class="tsd-kind-icon">Unknown<wbr/>Interaction<wbr/>Type</a></li><li class="tsd-kind-class"><a href="classes/UserCommand.html" class="tsd-kind-icon">User<wbr/>Command</a></li><li class="tsd-kind-class"><a href="classes/UserCommandBuilder.html" class="tsd-kind-icon">User<wbr/>Command<wbr/>Builder</a></li><li class="tsd-kind-class"><a href="classes/UserCommandContext.html" class="tsd-kind-icon">User<wbr/>Command<wbr/>Context</a></li><li class="tsd-kind-interface"><a href="interfaces/APIApplicationMessageCommand.html" class="tsd-kind-icon">APIApplication<wbr/>Message<wbr/>Command</a></li><li class="tsd-kind-interface"><a href="interfaces/APIApplicationSlashCommand.html" class="tsd-kind-icon">APIApplication<wbr/>Slash<wbr/>Command</a></li><li class="tsd-kind-interface"><a href="interfaces/APIApplicationUserCommand.html" class="tsd-kind-icon">APIApplication<wbr/>User<wbr/>Command</a></li><li class="tsd-kind-interface"><a href="interfaces/DiscordApplicationOptions.html" class="tsd-kind-icon">Discord<wbr/>Application<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/EmbedImageData.html" class="tsd-kind-icon">Embed<wbr/>Image<wbr/>Data</a></li><li class="tsd-kind-interface"><a href="interfaces/GenericCache.html" class="tsd-kind-icon">Generic<wbr/>Cache</a></li><li class="tsd-kind-interface tsd-has-type-parameter"><a href="interfaces/ICommandBase.html" class="tsd-kind-icon">ICommand<wbr/>Base</a></li><li class="tsd-kind-interface"><a href="interfaces/ICommandGroup.html" class="tsd-kind-icon">ICommand<wbr/>Group</a></li><li class="tsd-kind-interface"><a href="interfaces/ISlashCommand.html" class="tsd-kind-icon">ISlash<wbr/>Command</a></li><li class="tsd-kind-interface"><a href="interfaces/ISubcommandHandler.html" class="tsd-kind-icon">ISubcommand<wbr/>Handler</a></li><li class="tsd-kind-interface"><a href="interfaces/IconData.html" class="tsd-kind-icon">Icon<wbr/>Data</a></li><li class="tsd-kind-interface"><a href="interfaces/InteractionHooks.html" class="tsd-kind-icon">Interaction<wbr/>Hooks</a></li><li class="tsd-kind-interface"><a href="interfaces/ParsedCommands.html" class="tsd-kind-icon">Parsed<wbr/>Commands</a></li><li class="tsd-kind-interface"><a href="interfaces/ToAPIApplicationCommandGroupOptions.html" class="tsd-kind-icon">ToAPIApplication<wbr/>Command<wbr/>Group<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/ToAPIApplicationCommandOptions.html" class="tsd-kind-icon">ToAPIApplication<wbr/>Command<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/ToAPIApplicationCommandSubcommandOption.html" class="tsd-kind-icon">ToAPIApplication<wbr/>Command<wbr/>Subcommand<wbr/>Option</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ApplicationCommandOptionAllowedChannelTypes" class="tsd-kind-icon">Application<wbr/>Command<wbr/>Option<wbr/>Allowed<wbr/>Channel<wbr/>Types</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AutocompleteResponse" class="tsd-kind-icon">Autocomplete<wbr/>Response</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AutocompleteSupportedOptions" class="tsd-kind-icon">Autocomplete<wbr/>Supported<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ChannelMessageResponse" class="tsd-kind-icon">Channel<wbr/>Message<wbr/>Response</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Command" class="tsd-kind-icon">Command</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Component" class="tsd-kind-icon">Component</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ComponentBuilders" class="tsd-kind-icon">Component<wbr/>Builders</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ComponentContext" class="tsd-kind-icon">Component<wbr/>Context</a></li><li class="tsd-kind-type-alias"><a href="modules.html#EmbedAuthorData" class="tsd-kind-icon">Embed<wbr/>Author<wbr/>Data</a></li><li class="tsd-kind-type-alias"><a href="modules.html#EmbedAuthorOptions" class="tsd-kind-icon">Embed<wbr/>Author<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#EmbedFooterData" class="tsd-kind-icon">Embed<wbr/>Footer<wbr/>Data</a></li><li class="tsd-kind-type-alias"><a href="modules.html#EmbedFooterOptions" class="tsd-kind-icon">Embed<wbr/>Footer<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ICommand" class="tsd-kind-icon">ICommand</a></li><li class="tsd-kind-type-alias"><a href="modules.html#IMessageCommand" class="tsd-kind-icon">IMessage<wbr/>Command</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ISubcommandGroup" class="tsd-kind-icon">ISubcommand<wbr/>Group</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ISubcommandHandlers" class="tsd-kind-icon">ISubcommand<wbr/>Handlers</a></li><li class="tsd-kind-type-alias"><a href="modules.html#IUserCommand" class="tsd-kind-icon">IUser<wbr/>Command</a></li><li class="tsd-kind-type-alias"><a href="modules.html#InteractionContext" class="tsd-kind-icon">Interaction<wbr/>Context</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MappedCommandTypes" class="tsd-kind-icon">Mapped<wbr/>Command<wbr/>Types</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MessageActionRowBuilder" class="tsd-kind-icon">Message<wbr/>Action<wbr/>Row<wbr/>Builder</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MessageActionRowComponentBuilders" class="tsd-kind-icon">Message<wbr/>Action<wbr/>Row<wbr/>Component<wbr/>Builders</a></li><li class="tsd-kind-type-alias"><a href="modules.html#MessageUpdateResponse" class="tsd-kind-icon">Message<wbr/>Update<wbr/>Response</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ModalActionRowBuilder" class="tsd-kind-icon">Modal<wbr/>Action<wbr/>Row<wbr/>Builder</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ModalActionRowComponentBuilders" class="tsd-kind-icon">Modal<wbr/>Action<wbr/>Row<wbr/>Component<wbr/>Builders</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ModalSubmitResponse" class="tsd-kind-icon">Modal<wbr/>Submit<wbr/>Response</a></li><li class="tsd-kind-type-alias"><a href="modules.html#RGBTuple" class="tsd-kind-icon">RGBTuple</a></li><li class="tsd-kind-type-alias"><a href="modules.html#RegisteredCommand" class="tsd-kind-icon">Registered<wbr/>Command</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#ResponseCallback" class="tsd-kind-icon">Response<wbr/>Callback</a></li><li class="tsd-kind-variable"><a href="modules.html#AllowedChannelTypes" class="tsd-kind-icon">Allowed<wbr/>Channel<wbr/>Types</a></li><li class="tsd-kind-variable"><a href="modules.html#PermissionBits" class="tsd-kind-icon">Permission<wbr/>Bits</a></li><li class="tsd-kind-function"><a href="modules.html#SimpleEmbed" class="tsd-kind-icon">Simple<wbr/>Embed</a></li><li class="tsd-kind-function"><a href="modules.html#SimpleError" class="tsd-kind-icon">Simple<wbr/>Error</a></li><li class="tsd-kind-function"><a href="modules.html#isCommandGroup" class="tsd-kind-icon">is<wbr/>Command<wbr/>Group</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>